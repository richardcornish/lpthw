<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Exercise 16</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Rich learns Python the hard way </a></h1>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/exercise-16.html" rel="bookmark"
           title="Permalink to Exercise 16">Exercise&nbsp;16</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-11-23T02:08:00-06:00">
                Published: Sun 23 November 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/rich-cornish.html">Rich Cornish</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>. </p>

</footer><!-- /.post-info -->      <p>I missed last night (see <a href="/exercise-15.html">my thoughts on missed nights</a>), and so it&#8217;s <a href="https://learnpythonthehardway.org/book/ex16.html">Exercise 16</a> tonight. More on file opening and&nbsp;manipulation.</p>
<div class="highlight"><pre><span></span><span class="c1"># Exercise 16</span>
<span class="c1"># https://learnpythonthehardway.org/book/ex16.html</span>

<span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">argv</span>

<span class="n">script</span><span class="p">,</span> <span class="n">filename</span> <span class="o">=</span> <span class="n">argv</span>

<span class="k">print</span> <span class="s2">&quot;We&#39;re going to erase </span><span class="si">%r</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="n">filename</span>
<span class="k">print</span> <span class="s2">&quot;If you don&#39;t want that, hit CTRL-C (^C).&quot;</span>
<span class="k">print</span> <span class="s2">&quot;If you do want that, hit RETURN.&quot;</span>

<span class="nb">raw_input</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">)</span>
<span class="k">print</span> <span class="s2">&quot;Opening the file...&quot;</span>
<span class="n">target</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

<span class="c1"># print &quot;Truncating the file.  Goodbye!&quot;</span>
<span class="c1"># target.truncate()</span>

<span class="k">print</span> <span class="s2">&quot;Now I&#39;m going to ask you for three lines.&quot;</span>
<span class="n">line1</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s2">&quot;line 1: &quot;</span><span class="p">)</span>
<span class="n">line2</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s2">&quot;line 2: &quot;</span><span class="p">)</span>
<span class="n">line3</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s2">&quot;line 3: &quot;</span><span class="p">)</span>

<span class="k">print</span> <span class="s2">&quot;I&#39;m going to write these to the file.&quot;</span>
<span class="n">target</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">line1</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">line2</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">line3</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">print</span> <span class="s2">&quot;And finally, we close it.&quot;</span>
<span class="n">target</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># Read and print the contents of the file</span>
<span class="k">print</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Time to print out the file:&quot;</span>
<span class="n">target</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="n">target</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">target</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>


<p><img alt="Exercise 16" src="/images/ex16.png" title="Exercise 16"></p>
<p>As per the study drills, I added the last few lines to re-open the same file, read its contents, print them to the console, and close the file. I also condensed the multiple <code>target.write()</code> methods into one line with string&nbsp;concatenation.</p>
<p>I often found that people who played with file manipulation in languages often forget the arguments that can be passed into the <a href="https://docs.python.org/2/library/functions.html#open"><code>open</code></a>&nbsp;method:</p>
<blockquote>
<p>The most commonly-used values of mode are <code>r</code> for reading, <code>w</code> for writing (truncating the file if it already exists), and <code>a</code> for appending (which on some Unix systems means that all writes append to the end of the file regardless of the current seek position). If mode is omitted, it defaults to&nbsp;&#8216;r&#8217;.</p>
</blockquote>
<p>We need to pass <code>w</code> into the <code>open</code> method because we are writing to the file, and Python requires the code to explicitly acknowledge the action. The documentation also mentions that if <code>w</code> is passed, running <a href="https://docs.python.org/2/library/stdtypes.html#file.truncate"><code>truncate</code></a> on the file object isn&#8217;t necessary. I commented it out, and my code ran just&nbsp;fine.</p>
<p>That&#8217;s because this man knows how my code is&nbsp;doing:</p>
<p><img alt="Matthew McConaughey" src="/images/matthew_mcconaughey-alright.gif" title="Matthew McConaughey"></p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://python.org/">Python</a></li>
                            <li><a href="https://learnpythonthehardway.org/book/">LPTHW</a></li>
                            <li><a href="https://github.com/richardcornish/richlearnspythonthehardway/">Code</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>